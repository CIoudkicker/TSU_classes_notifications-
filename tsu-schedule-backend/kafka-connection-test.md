# Проверка подключения к Кафке
## тестовая цель
Убедитесь, что приложение Node.js может установить подключение к кластеру Kafka в Docker.
## Тестовые шаги
1. Условие: перед запуском кода была установлена ​​библиотека kafkajs (ее можно установить, запустив `npm install kafkajs`), и была запущена команда `docker-compose up --build`, а производитель `npm run start:producer` был запущен (Решение проблемы, связанной с тем, что координатор группы недоступен).
2. Добавьте файл `kafka-connection-test.js`, подробности см. в файле kafka-connection-test.js.
3. Настройте параметры подключения Kafka: 
```javascript
const кафка = новая кафка({
  clientId: 'мое-кафка-приложение',
  Brokers: ['localhost:29092'], // Указываем адрес и порт кластера Kafka
});
```
4. Установите группу потребителей и тему: 
```javascript
  const Consumer = kafka.consumer({groupId: 'my-consumer-group'});
  const тема = 'моя-тема';
```
  5. Запустите `node kafka-test.js`.
  6. Получите результат:
  - Используйте клиентскую библиотеку Kafka в приложении Node.js для подключения к кластеру Kafka.
  - Отправить тестовое сообщение в тему Kafka.
  - Используйте потребителя Kafka, чтобы получить сообщение и проверить его содержимое.
  ## Результаты теста 
  ![](https://huatu.98youxi.com/markdown/work/uploads/upload_51887c07efbc03ed00c2c1d4920ab6b9.png)
  - Приложение Node.js успешно подключается к кластеру Kafka и может установить действительную связь.
- Тестовое сообщение было успешно отправлено в указанную тему Kafka.
- Потребитель Kafka смог получить сообщение и убедиться, что содержание сообщения соответствует ожиданиям.
## Заключение теста:
  - По результатам испытаний можно сделать следующие выводы:
— Приложение Node.js может успешно подключаться к кластеру Kafka в Docker и иметь возможность отправлять и получать сообщения.
- Тест пройден.
## Примечание
  - Конфигурация тестовой среды:
- Операционная система: CentOS 7
- Версия Node.js: v14.15.4.
- Версия Кафки: 2.8.0
- Инструмент тестирования: KafkaJS (клиентская библиотека Node.js Kafka)